# BuzzWriteYear - プロダクトビジョン & 開発指示書

## 1. このアプリは何か

**TikTok Shop (TTS) でGMVを最大化するための動画クリエイティブ量産・最適化プラットフォーム**

```
商品登録 → 動画生成 → 複数バリアント生成 → 投稿 → 勝ちクリエイティブ発見 → 最適化 → 再生成
```

このサイクルを高速で回すことで、売上に繋がる動画を自動的に見つけ出す。

---

## 2. 解決したい課題

| 課題 | 現状の痛み | BuzzWriteYearの解決策 |
|------|-----------|---------------------|
| **動画制作コスト** | 1本の商品動画に数時間〜数日かかる | AIが数分で複数バリアント生成 |
| **クリエイティブ検証** | どの動画が売れるか分からない | A/Bテスト自動化、勝ちパターン分析 |
| **PDCAが回らない** | 投稿→分析→改善のサイクルが遅い | 自動データ収集、推奨アクション提示 |
| **属人化** | センスに依存、再現性がない | 勝ちテンプレートの型化 |

---

## 3. Core Value（意思決定原則）

### ミッション
**「ユーザーが18時間使い続けたくなるアプリを作る」**

最高のUI/UXを通じて、動画生成・投稿・分析のワークフローを**中毒的に楽しく**する。
結果としてGMVが最大化される。

### 判断基準（優先順）

| 順位 | 原則 | 問いかけ |
|------|------|----------|
| 1 | **UX中毒性** | ユーザーがもっと使いたくなるか？ |
| 2 | **操作の快感** | クリック・操作が気持ち良いか？ |
| 3 | **フィードバック** | 結果が即座に分かるか？ |
| 4 | **シンプルさ** | 迷わず直感的に使えるか？ |

### 判断例

| 迷い | 判断 |
|------|------|
| 機能追加 vs UX改善 | → **UX改善**（中毒性優先） |
| 詳細設定 vs ワンクリック | → **ワンクリック**（操作の快感） |
| 正確さ vs 速度 | → **速度**（即座のフィードバック） |
| 高機能 vs シンプル | → **シンプル**（直感的操作） |

---

## 4. ターゲットユーザー

### ペルソナ

| レベル | 特徴 | ニーズ | 現状スコア |
|--------|------|--------|-----------|
| **初心者** | TTS始めたて、動画制作未経験 | 簡単に動画を作りたい | 60/100 |
| **中級者** | 数十本投稿済み、効率化したい | 量産・設定記憶・A/Bテスト | 61/100 |
| **上級者** | 毎日大量投稿、自動化必須 | ショートカット・バッチ・オートメーション | 72/100 |

### 現在のフォーカス
**初心者スコア80点以上を最優先**（現在60点）

理由：初心者が離脱すると中級・上級にならない

---

## 5. 機能概要

### コアフロー

```
[商品登録]
    ↓ URL自動入力 or 手動入力
[動画生成]
    ├─ Kling AI（I2V/T2V）: 高品質WebCM風
    ├─ HeyGen: AIアバター商品紹介
    ├─ Remotion: テンプレートベース
    └─ FFmpeg: UGC風加工
    ↓
[バリアント生成]
    ├─ TikTok A/Bテスト（4パターン）
    ├─ マルチプラットフォーム（4プラットフォーム）
    └─ フルテスト（5パターン）
    ↓
[TikTok投稿]
    ↓ OAuth連携、自動投稿
[分析]
    ├─ GMVダッシュボード
    ├─ 勝ちテンプレート判定
    └─ 推奨アクション提示
    ↓
[最適化]
    └─ 勝ちクリエイティブベースで再生成
```

### 主要機能

| 機能 | 説明 |
|------|------|
| **AI動画生成** | Kling AI（O1機能完全対応）、HeyGen、Remotion |
| **バッチ生成** | CSV入力で大量一括生成 |
| **A/Bテスト** | ワンクリックでバリアント生成 |
| **TikTok連携** | OAuth認証→自動投稿 |
| **分析ダッシュボード** | GMV、コンバージョン、勝ちテンプレート |
| **設定記憶** | 前回設定を完全復元、クイック生成 |

---

## 6. UX中毒性のKPI

### 現在の中毒性スコア: 6.75/10

| 指標 | 現在 | 目標 |
|------|------|------|
| UX中毒性 | 7/10 | 9/10 |
| 操作の快感 | 7.5/10 | 9/10 |
| フィードバック | 7/10 | 9/10 |
| シンプルさ | 8/10 | 9/10 |

### 改善中の要素

- スケルトンローディング統一
- マイクロインタラクション（ホバー、クリック）
- 成功アニメーション
- 継続トリガー（次のアクション提案）
- 設定記憶・クイック生成

---

## 7. 技術スタック

| Layer | 技術 |
|-------|------|
| Frontend | Next.js 14 + TypeScript |
| UI | Tailwind CSS + shadcn/ui |
| State | Zustand + TanStack Query |
| Database | PostgreSQL (Supabase) |
| Auth | Supabase Auth (Google OAuth) |
| Storage | Supabase Storage |
| Queue | BullMQ + Redis (Upstash) |
| Video Gen | Kling AI + HeyGen + Remotion + FFmpeg |
| Charts | Recharts |
| Deploy | Vercel (Web) + Render (Worker) |

---

## 8. 開発で迷ったら

1. **この変更でユーザーはもっと使いたくなるか？** → Noなら優先度下げ
2. **クリック数は減るか？待ち時間の体感は改善するか？** → Noなら再考
3. **初心者が5秒で理解できるか？** → Noなら簡略化
4. **既存の中毒ユーザーの習慣を壊さないか？** → 壊すなら慎重に

---

## 9. 禁止事項

- 機能追加のためにUXを犠牲にしない
- 「あとで改善」を前提にした複雑なUIを作らない
- ユーザーに考えさせる選択肢を増やさない
- ローディング中に何も表示しない状態を作らない

---

## 10. 参照ドキュメント

| ファイル | 内容 |
|----------|------|
| `CLAUDE.md` | プロジェクト設定・技術詳細 |
| `HANDOFF.md` | セッション履歴・作業状況 |
| `.claude/user-feedback/` | ユーザーフィードバック分析 |
